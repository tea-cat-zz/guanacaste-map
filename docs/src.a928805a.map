{"version":3,"sources":["../../node_modules/hyperscript-attribute-to-property/index.js","../../node_modules/hyperx/index.js","../../node_modules/nanohtml/lib/append-child.js","../../node_modules/nanohtml/lib/svg-tags.js","../../node_modules/nanohtml/lib/bool-props.js","../../node_modules/nanohtml/lib/direct-props.js","../../node_modules/nanohtml/lib/browser.js","src/config/layers.js","src/config/text.js","src/config/index.js","src/utils.js","src/handlers.js","src/components/legend.js","src/components/popup.js","src/map.js","src/index.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["label","color","filterOn","hasPopups","filters","value","combineWithLayers","es","LEGEND_TITLE","LEGEND_VIEW_ALL","LEGEND_VIEW_NONE","LEGEND_ITEM_TOOLTIP_PREFIX","POPUP_IMAGE_ALT_PREFIX","POPUP_MORE_INFO","en","default","MAP","style","center","zoom","scrollZoom","maxZoom","minZoom","ACCESS_TOKEN","module","exports","Object","freeze","LAYER_PREFIX","LAYERS_ACTIVE","ANIMATION_DURATION","LAYERS","layers","TEXT","text","PREFIX_LENGTH","length","filteringLayers","entries","filter","map","layerName","name","filteringLayersList","hasToggle","id","substring","getVisibleLayers","layerList","forceValue","reduce","agg","layer","result","layerIndex","indexOf","assign","getFilteredLayers","layerC","hasFilters","layerId","toggleLegend","legendEl","document","getElementById","classList","toggle","getLayerToggleHandler","legendItem","visibleLayers","isToggledOn","visibility","console","log","forEach","setLayoutProperty","getFilterLayerToggleHandler","legendItemEls","querySelectorAll","currentLayerState","values","some","item","call","add","remove","keys","setFilter","getFilterToggleHandler","layerConfig","layerData","activeFilterLayers","key","getShowAllHandler","filteredLayers","getHideAllHandler","getLayerToggle","toggleLayer","e","preventDefault","window","tcat","handleLayerToggle","getFilterLayerToggle","toggleFilterLayer","handleFilterLayerToggle","getFilterItemToggle","toggleFilterItem","handleFilterToggle","nanoHtml","T","allLayers","legendItemWithFilters","handleShowAll","handleHideAll","legendItemChild","feature","properties","link","Estación","Image","description","createCompass","getMap","mapboxgl","accessToken","DEFAULT_MAP","container","handleInitialLoad","getStyle","isVisible","leftEl","querySelector","compass","html","onclick","flyTo","appendChild","Map","popup","Popup","keepInView","maxWidth","showPopup","setLngLat","geometry","coordinates","setHTML","addTo","on","newZoom","duration","features","setTimeout","addControl","FullscreenControl","nav","NavigationControl","showCompass","disable","initialLoaded","loaded","wrapperEl","legendInnerEl","replaceChild","body","addEventListener","event","metaKey","ctrlKey","enable","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","bundle","require","updateLink","newLink","cloneNode","onload","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","links","i"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBMrKe;ANsKf,AMrKE,oBAAkB;ANsKpB,AMrKIA,WAAO,SADS;ANuKpB,AMrKIC,WAAO,SAFS;ANwKpB,AMrKIC,cAAU,QAHM;ANyKpB,AMrKIC,eAAW,IAJK;AN0KpB,AMrKIC,aAAS,CACP;ANqKN,AMpKQC,aAAO,YADT;ANsKN,AMpKQL,aAAO;ANqKf,AMvKM,KADO,EAKP;ANoKN,AMnKQK,aAAO,SADT;ANqKN,AMnKQL,aAAO;ANoKf,AMtKM,KALO;AN4Kb,AMjLoB,GADL;ANmLf,AMlKE,mBAAiB,EAAEA,OAAO,QAAT,EAAmBC,OAAO,SAA1B,EAjBJ;ANoLf,AMlKE,qBAAmB;ANmKrB,AMlKID,WAAO,UADU;ANoKrB,AMlKIC,WAAO,SAFU;ANqKrB,AMlKIK,uBAAmB,CAAC,kBAAD,EAAqB,yBAArB;ANmKvB,AMtKqB,GAlBN;ANyLf,AMlKE,wBAAsB;ANmKxB,AMlKIN,WAAO,aADa;ANoKxB,AMlKIC,WAAO,SAFa;ANqKxB,AMlKIC,cAAU,MAHU;ANsKxB,AMlKIE,aAAS,CACP;ANkKN,AMjKQC,aAAO,QADT;ANmKN,AMjKQL,aAAO,QAFT;ANoKN,AMjKQC,aAAO;ANkKf,AMrKM,KADO,EAMP;ANiKN,AMhKQI,aAAO,aADT;ANkKN,AMhKQL,aAAO,aAFT;ANmKN,AMhKQC,aAAO;ANiKf,AMpKM,KANO,EAWP;ANgKN,AM/JQI,aAAO,iBADT;ANiKN,AM/JQL,aAAO,iBAFT;ANkKN,AM/JQC,aAAO;ANgKf,AMnKM,KAXO,EAgBP;AN+JN,AM9JQI,aAAO,eADT;ANgKN,AM9JQL,aAAO,eAFT;ANiKN,AM9JQC,aAAO;AN+Jf,AMlKM,KAhBO;ANmLb,AMvLwB;ANwLxB,AM/Me;ANgNf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AR3HP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChBA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;ACJA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","file":"src.a928805a.map","sourceRoot":"..","sourcesContent":["module.exports = attributeToProperty\n\nvar transform = {\n  'class': 'className',\n  'for': 'htmlFor',\n  'http-equiv': 'httpEquiv'\n}\n\nfunction attributeToProperty (h) {\n  return function (tagName, attrs, children) {\n    for (var attr in attrs) {\n      if (attr in transform) {\n        attrs[transform[attr]] = attrs[attr]\n        delete attrs[attr]\n      }\n    }\n    return h(tagName, attrs, children)\n  }\n}\n","var attrToProp = require('hyperscript-attribute-to-property')\n\nvar VAR = 0, TEXT = 1, OPEN = 2, CLOSE = 3, ATTR = 4\nvar ATTR_KEY = 5, ATTR_KEY_W = 6\nvar ATTR_VALUE_W = 7, ATTR_VALUE = 8\nvar ATTR_VALUE_SQ = 9, ATTR_VALUE_DQ = 10\nvar ATTR_EQ = 11, ATTR_BREAK = 12\nvar COMMENT = 13\n\nmodule.exports = function (h, opts) {\n  if (!opts) opts = {}\n  var concat = opts.concat || function (a, b) {\n    return String(a) + String(b)\n  }\n  if (opts.attrToProp !== false) {\n    h = attrToProp(h)\n  }\n\n  return function (strings) {\n    var state = TEXT, reg = ''\n    var arglen = arguments.length\n    var parts = []\n\n    for (var i = 0; i < strings.length; i++) {\n      if (i < arglen - 1) {\n        var arg = arguments[i+1]\n        var p = parse(strings[i])\n        var xstate = state\n        if (xstate === ATTR_VALUE_DQ) xstate = ATTR_VALUE\n        if (xstate === ATTR_VALUE_SQ) xstate = ATTR_VALUE\n        if (xstate === ATTR_VALUE_W) xstate = ATTR_VALUE\n        if (xstate === ATTR) xstate = ATTR_KEY\n        if (xstate === OPEN) {\n          if (reg === '/') {\n            p.push([ OPEN, '/', arg ])\n            reg = ''\n          } else {\n            p.push([ OPEN, arg ])\n          }\n        } else {\n          p.push([ VAR, xstate, arg ])\n        }\n        parts.push.apply(parts, p)\n      } else parts.push.apply(parts, parse(strings[i]))\n    }\n\n    var tree = [null,{},[]]\n    var stack = [[tree,-1]]\n    for (var i = 0; i < parts.length; i++) {\n      var cur = stack[stack.length-1][0]\n      var p = parts[i], s = p[0]\n      if (s === OPEN && /^\\//.test(p[1])) {\n        var ix = stack[stack.length-1][1]\n        if (stack.length > 1) {\n          stack.pop()\n          stack[stack.length-1][0][2][ix] = h(\n            cur[0], cur[1], cur[2].length ? cur[2] : undefined\n          )\n        }\n      } else if (s === OPEN) {\n        var c = [p[1],{},[]]\n        cur[2].push(c)\n        stack.push([c,cur[2].length-1])\n      } else if (s === ATTR_KEY || (s === VAR && p[1] === ATTR_KEY)) {\n        var key = ''\n        var copyKey\n        for (; i < parts.length; i++) {\n          if (parts[i][0] === ATTR_KEY) {\n            key = concat(key, parts[i][1])\n          } else if (parts[i][0] === VAR && parts[i][1] === ATTR_KEY) {\n            if (typeof parts[i][2] === 'object' && !key) {\n              for (copyKey in parts[i][2]) {\n                if (parts[i][2].hasOwnProperty(copyKey) && !cur[1][copyKey]) {\n                  cur[1][copyKey] = parts[i][2][copyKey]\n                }\n              }\n            } else {\n              key = concat(key, parts[i][2])\n            }\n          } else break\n        }\n        if (parts[i][0] === ATTR_EQ) i++\n        var j = i\n        for (; i < parts.length; i++) {\n          if (parts[i][0] === ATTR_VALUE || parts[i][0] === ATTR_KEY) {\n            if (!cur[1][key]) cur[1][key] = strfn(parts[i][1])\n            else parts[i][1]===\"\" || (cur[1][key] = concat(cur[1][key], parts[i][1]));\n          } else if (parts[i][0] === VAR\n          && (parts[i][1] === ATTR_VALUE || parts[i][1] === ATTR_KEY)) {\n            if (!cur[1][key]) cur[1][key] = strfn(parts[i][2])\n            else parts[i][2]===\"\" || (cur[1][key] = concat(cur[1][key], parts[i][2]));\n          } else {\n            if (key.length && !cur[1][key] && i === j\n            && (parts[i][0] === CLOSE || parts[i][0] === ATTR_BREAK)) {\n              // https://html.spec.whatwg.org/multipage/infrastructure.html#boolean-attributes\n              // empty string is falsy, not well behaved value in browser\n              cur[1][key] = key.toLowerCase()\n            }\n            if (parts[i][0] === CLOSE) {\n              i--\n            }\n            break\n          }\n        }\n      } else if (s === ATTR_KEY) {\n        cur[1][p[1]] = true\n      } else if (s === VAR && p[1] === ATTR_KEY) {\n        cur[1][p[2]] = true\n      } else if (s === CLOSE) {\n        if (selfClosing(cur[0]) && stack.length) {\n          var ix = stack[stack.length-1][1]\n          stack.pop()\n          stack[stack.length-1][0][2][ix] = h(\n            cur[0], cur[1], cur[2].length ? cur[2] : undefined\n          )\n        }\n      } else if (s === VAR && p[1] === TEXT) {\n        if (p[2] === undefined || p[2] === null) p[2] = ''\n        else if (!p[2]) p[2] = concat('', p[2])\n        if (Array.isArray(p[2][0])) {\n          cur[2].push.apply(cur[2], p[2])\n        } else {\n          cur[2].push(p[2])\n        }\n      } else if (s === TEXT) {\n        cur[2].push(p[1])\n      } else if (s === ATTR_EQ || s === ATTR_BREAK) {\n        // no-op\n      } else {\n        throw new Error('unhandled: ' + s)\n      }\n    }\n\n    if (tree[2].length > 1 && /^\\s*$/.test(tree[2][0])) {\n      tree[2].shift()\n    }\n\n    if (tree[2].length > 2\n    || (tree[2].length === 2 && /\\S/.test(tree[2][1]))) {\n      throw new Error(\n        'multiple root elements must be wrapped in an enclosing tag'\n      )\n    }\n    if (Array.isArray(tree[2][0]) && typeof tree[2][0][0] === 'string'\n    && Array.isArray(tree[2][0][2])) {\n      tree[2][0] = h(tree[2][0][0], tree[2][0][1], tree[2][0][2])\n    }\n    return tree[2][0]\n\n    function parse (str) {\n      var res = []\n      if (state === ATTR_VALUE_W) state = ATTR\n      for (var i = 0; i < str.length; i++) {\n        var c = str.charAt(i)\n        if (state === TEXT && c === '<') {\n          if (reg.length) res.push([TEXT, reg])\n          reg = ''\n          state = OPEN\n        } else if (c === '>' && !quot(state) && state !== COMMENT) {\n          if (state === OPEN && reg.length) {\n            res.push([OPEN,reg])\n          } else if (state === ATTR_KEY) {\n            res.push([ATTR_KEY,reg])\n          } else if (state === ATTR_VALUE && reg.length) {\n            res.push([ATTR_VALUE,reg])\n          }\n          res.push([CLOSE])\n          reg = ''\n          state = TEXT\n        } else if (state === COMMENT && /-$/.test(reg) && c === '-') {\n          if (opts.comments) {\n            res.push([ATTR_VALUE,reg.substr(0, reg.length - 1)],[CLOSE])\n          }\n          reg = ''\n          state = TEXT\n        } else if (state === OPEN && /^!--$/.test(reg)) {\n          if (opts.comments) {\n            res.push([OPEN, reg],[ATTR_KEY,'comment'],[ATTR_EQ])\n          }\n          reg = c\n          state = COMMENT\n        } else if (state === TEXT || state === COMMENT) {\n          reg += c\n        } else if (state === OPEN && c === '/' && reg.length) {\n          // no-op, self closing tag without a space <br/>\n        } else if (state === OPEN && /\\s/.test(c)) {\n          if (reg.length) {\n            res.push([OPEN, reg])\n          }\n          reg = ''\n          state = ATTR\n        } else if (state === OPEN) {\n          reg += c\n        } else if (state === ATTR && /[^\\s\"'=/]/.test(c)) {\n          state = ATTR_KEY\n          reg = c\n        } else if (state === ATTR && /\\s/.test(c)) {\n          if (reg.length) res.push([ATTR_KEY,reg])\n          res.push([ATTR_BREAK])\n        } else if (state === ATTR_KEY && /\\s/.test(c)) {\n          res.push([ATTR_KEY,reg])\n          reg = ''\n          state = ATTR_KEY_W\n        } else if (state === ATTR_KEY && c === '=') {\n          res.push([ATTR_KEY,reg],[ATTR_EQ])\n          reg = ''\n          state = ATTR_VALUE_W\n        } else if (state === ATTR_KEY) {\n          reg += c\n        } else if ((state === ATTR_KEY_W || state === ATTR) && c === '=') {\n          res.push([ATTR_EQ])\n          state = ATTR_VALUE_W\n        } else if ((state === ATTR_KEY_W || state === ATTR) && !/\\s/.test(c)) {\n          res.push([ATTR_BREAK])\n          if (/[\\w-]/.test(c)) {\n            reg += c\n            state = ATTR_KEY\n          } else state = ATTR\n        } else if (state === ATTR_VALUE_W && c === '\"') {\n          state = ATTR_VALUE_DQ\n        } else if (state === ATTR_VALUE_W && c === \"'\") {\n          state = ATTR_VALUE_SQ\n        } else if (state === ATTR_VALUE_DQ && c === '\"') {\n          res.push([ATTR_VALUE,reg],[ATTR_BREAK])\n          reg = ''\n          state = ATTR\n        } else if (state === ATTR_VALUE_SQ && c === \"'\") {\n          res.push([ATTR_VALUE,reg],[ATTR_BREAK])\n          reg = ''\n          state = ATTR\n        } else if (state === ATTR_VALUE_W && !/\\s/.test(c)) {\n          state = ATTR_VALUE\n          i--\n        } else if (state === ATTR_VALUE && /\\s/.test(c)) {\n          res.push([ATTR_VALUE,reg],[ATTR_BREAK])\n          reg = ''\n          state = ATTR\n        } else if (state === ATTR_VALUE || state === ATTR_VALUE_SQ\n        || state === ATTR_VALUE_DQ) {\n          reg += c\n        }\n      }\n      if (state === TEXT && reg.length) {\n        res.push([TEXT,reg])\n        reg = ''\n      } else if (state === ATTR_VALUE && reg.length) {\n        res.push([ATTR_VALUE,reg])\n        reg = ''\n      } else if (state === ATTR_VALUE_DQ && reg.length) {\n        res.push([ATTR_VALUE,reg])\n        reg = ''\n      } else if (state === ATTR_VALUE_SQ && reg.length) {\n        res.push([ATTR_VALUE,reg])\n        reg = ''\n      } else if (state === ATTR_KEY) {\n        res.push([ATTR_KEY,reg])\n        reg = ''\n      }\n      return res\n    }\n  }\n\n  function strfn (x) {\n    if (typeof x === 'function') return x\n    else if (typeof x === 'string') return x\n    else if (x && typeof x === 'object') return x\n    else return concat('', x)\n  }\n}\n\nfunction quot (state) {\n  return state === ATTR_VALUE_SQ || state === ATTR_VALUE_DQ\n}\n\nvar hasOwn = Object.prototype.hasOwnProperty\nfunction has (obj, key) { return hasOwn.call(obj, key) }\n\nvar closeRE = RegExp('^(' + [\n  'area', 'base', 'basefont', 'bgsound', 'br', 'col', 'command', 'embed',\n  'frame', 'hr', 'img', 'input', 'isindex', 'keygen', 'link', 'meta', 'param',\n  'source', 'track', 'wbr', '!--',\n  // SVG TAGS\n  'animate', 'animateTransform', 'circle', 'cursor', 'desc', 'ellipse',\n  'feBlend', 'feColorMatrix', 'feComposite',\n  'feConvolveMatrix', 'feDiffuseLighting', 'feDisplacementMap',\n  'feDistantLight', 'feFlood', 'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR',\n  'feGaussianBlur', 'feImage', 'feMergeNode', 'feMorphology',\n  'feOffset', 'fePointLight', 'feSpecularLighting', 'feSpotLight', 'feTile',\n  'feTurbulence', 'font-face-format', 'font-face-name', 'font-face-uri',\n  'glyph', 'glyphRef', 'hkern', 'image', 'line', 'missing-glyph', 'mpath',\n  'path', 'polygon', 'polyline', 'rect', 'set', 'stop', 'tref', 'use', 'view',\n  'vkern'\n].join('|') + ')(?:[\\.#][a-zA-Z0-9\\u007F-\\uFFFF_:-]+)*$')\nfunction selfClosing (tag) { return closeRE.test(tag) }\n","var trailingNewlineRegex = /\\n[\\s]+$/\nvar leadingNewlineRegex = /^\\n[\\s]+/\nvar trailingSpaceRegex = /[\\s]+$/\nvar leadingSpaceRegex = /^[\\s]+/\nvar multiSpaceRegex = /[\\n\\s]+/g\n\nvar TEXT_TAGS = [\n  'a', 'abbr', 'b', 'bdi', 'bdo', 'br', 'cite', 'data', 'dfn', 'em', 'i',\n  'kbd', 'mark', 'q', 'rp', 'rt', 'rtc', 'ruby', 's', 'amp', 'small', 'span',\n  'strong', 'sub', 'sup', 'time', 'u', 'var', 'wbr'\n]\n\nvar VERBATIM_TAGS = [\n  'code', 'pre', 'textarea'\n]\n\nmodule.exports = function appendChild (el, childs) {\n  if (!Array.isArray(childs)) return\n\n  var nodeName = el.nodeName.toLowerCase()\n\n  var hadText = false\n  var value, leader\n\n  for (var i = 0, len = childs.length; i < len; i++) {\n    var node = childs[i]\n    if (Array.isArray(node)) {\n      appendChild(el, node)\n      continue\n    }\n\n    if (typeof node === 'number' ||\n      typeof node === 'boolean' ||\n      typeof node === 'function' ||\n      node instanceof Date ||\n      node instanceof RegExp) {\n      node = node.toString()\n    }\n\n    var lastChild = el.childNodes[el.childNodes.length - 1]\n\n    // Iterate over text nodes\n    if (typeof node === 'string') {\n      hadText = true\n\n      // If we already had text, append to the existing text\n      if (lastChild && lastChild.nodeName === '#text') {\n        lastChild.nodeValue += node\n\n      // We didn't have a text node yet, create one\n      } else {\n        node = document.createTextNode(node)\n        el.appendChild(node)\n        lastChild = node\n      }\n\n      // If this is the last of the child nodes, make sure we close it out\n      // right\n      if (i === len - 1) {\n        hadText = false\n        // Trim the child text nodes if the current node isn't a\n        // node where whitespace matters.\n        if (TEXT_TAGS.indexOf(nodeName) === -1 &&\n          VERBATIM_TAGS.indexOf(nodeName) === -1) {\n          value = lastChild.nodeValue\n            .replace(leadingNewlineRegex, '')\n            .replace(trailingSpaceRegex, '')\n            .replace(trailingNewlineRegex, '')\n            .replace(multiSpaceRegex, ' ')\n          if (value === '') {\n            el.removeChild(lastChild)\n          } else {\n            lastChild.nodeValue = value\n          }\n        } else if (VERBATIM_TAGS.indexOf(nodeName) === -1) {\n          // The very first node in the list should not have leading\n          // whitespace. Sibling text nodes should have whitespace if there\n          // was any.\n          leader = i === 0 ? '' : ' '\n          value = lastChild.nodeValue\n            .replace(leadingNewlineRegex, leader)\n            .replace(leadingSpaceRegex, ' ')\n            .replace(trailingSpaceRegex, '')\n            .replace(trailingNewlineRegex, '')\n            .replace(multiSpaceRegex, ' ')\n          lastChild.nodeValue = value\n        }\n      }\n\n    // Iterate over DOM nodes\n    } else if (node && node.nodeType) {\n      // If the last node was a text node, make sure it is properly closed out\n      if (hadText) {\n        hadText = false\n\n        // Trim the child text nodes if the current node isn't a\n        // text node or a code node\n        if (TEXT_TAGS.indexOf(nodeName) === -1 &&\n          VERBATIM_TAGS.indexOf(nodeName) === -1) {\n          value = lastChild.nodeValue\n            .replace(leadingNewlineRegex, '')\n            .replace(trailingNewlineRegex, '')\n            .replace(multiSpaceRegex, ' ')\n\n          // Remove empty text nodes, append otherwise\n          if (value === '') {\n            el.removeChild(lastChild)\n          } else {\n            lastChild.nodeValue = value\n          }\n        // Trim the child nodes if the current node is not a node\n        // where all whitespace must be preserved\n        } else if (VERBATIM_TAGS.indexOf(nodeName) === -1) {\n          value = lastChild.nodeValue\n            .replace(leadingSpaceRegex, ' ')\n            .replace(leadingNewlineRegex, '')\n            .replace(trailingNewlineRegex, '')\n            .replace(multiSpaceRegex, ' ')\n          lastChild.nodeValue = value\n        }\n      }\n\n      // Store the last nodename\n      var _nodeName = node.nodeName\n      if (_nodeName) nodeName = _nodeName.toLowerCase()\n\n      // Append the node to the DOM\n      el.appendChild(node)\n    }\n  }\n}\n","module.exports = [\n  'svg', 'altGlyph', 'altGlyphDef', 'altGlyphItem', 'animate', 'animateColor',\n  'animateMotion', 'animateTransform', 'circle', 'clipPath', 'color-profile',\n  'cursor', 'defs', 'desc', 'ellipse', 'feBlend', 'feColorMatrix',\n  'feComponentTransfer', 'feComposite', 'feConvolveMatrix',\n  'feDiffuseLighting', 'feDisplacementMap', 'feDistantLight', 'feFlood',\n  'feFuncA', 'feFuncB', 'feFuncG', 'feFuncR', 'feGaussianBlur', 'feImage',\n  'feMerge', 'feMergeNode', 'feMorphology', 'feOffset', 'fePointLight',\n  'feSpecularLighting', 'feSpotLight', 'feTile', 'feTurbulence', 'filter',\n  'font', 'font-face', 'font-face-format', 'font-face-name', 'font-face-src',\n  'font-face-uri', 'foreignObject', 'g', 'glyph', 'glyphRef', 'hkern', 'image',\n  'line', 'linearGradient', 'marker', 'mask', 'metadata', 'missing-glyph',\n  'mpath', 'path', 'pattern', 'polygon', 'polyline', 'radialGradient', 'rect',\n  'set', 'stop', 'switch', 'symbol', 'text', 'textPath', 'title', 'tref',\n  'tspan', 'use', 'view', 'vkern'\n]\n","module.exports = [\n  'autofocus', 'checked', 'defaultchecked', 'disabled', 'formnovalidate',\n  'indeterminate', 'readonly', 'required', 'selected', 'willvalidate'\n]\n","module.exports = [\n  'indeterminate'\n]\n","var hyperx = require('hyperx')\nvar appendChild = require('./append-child')\nvar SVG_TAGS = require('./svg-tags')\nvar BOOL_PROPS = require('./bool-props')\n// Props that need to be set directly rather than with el.setAttribute()\nvar DIRECT_PROPS = require('./direct-props')\n\nvar SVGNS = 'http://www.w3.org/2000/svg'\nvar XLINKNS = 'http://www.w3.org/1999/xlink'\n\nvar COMMENT_TAG = '!--'\n\nfunction nanoHtmlCreateElement (tag, props, children) {\n  var el\n\n  // If an svg tag, it needs a namespace\n  if (SVG_TAGS.indexOf(tag) !== -1) {\n    props.namespace = SVGNS\n  }\n\n  // If we are using a namespace\n  var ns = false\n  if (props.namespace) {\n    ns = props.namespace\n    delete props.namespace\n  }\n\n  // Create the element\n  if (ns) {\n    el = document.createElementNS(ns, tag)\n  } else if (tag === COMMENT_TAG) {\n    return document.createComment(props.comment)\n  } else {\n    el = document.createElement(tag)\n  }\n\n  // Create the properties\n  for (var p in props) {\n    if (props.hasOwnProperty(p)) {\n      var key = p.toLowerCase()\n      var val = props[p]\n      // Normalize className\n      if (key === 'classname') {\n        key = 'class'\n        p = 'class'\n      }\n      // The for attribute gets transformed to htmlFor, but we just set as for\n      if (p === 'htmlFor') {\n        p = 'for'\n      }\n      // If a property is boolean, set itself to the key\n      if (BOOL_PROPS.indexOf(key) !== -1) {\n        if (val === 'true') val = key\n        else if (val === 'false') continue\n      }\n      // If a property prefers being set directly vs setAttribute\n      if (key.slice(0, 2) === 'on' || DIRECT_PROPS.indexOf(key) !== -1) {\n        el[p] = val\n      } else {\n        if (ns) {\n          if (p === 'xlink:href') {\n            el.setAttributeNS(XLINKNS, p, val)\n          } else if (/^xmlns($|:)/i.test(p)) {\n            // skip xmlns definitions\n          } else {\n            el.setAttributeNS(null, p, val)\n          }\n        } else {\n          el.setAttribute(p, val)\n        }\n      }\n    }\n  }\n\n  appendChild(el, children)\n  return el\n}\n\nmodule.exports = hyperx(nanoHtmlCreateElement, {comments: true})\nmodule.exports.default = module.exports\nmodule.exports.createElement = nanoHtmlCreateElement\n","export default {\n  \"toggle-turismo\": {\n    label: \"Turismo\",\n    color: \"#CCCC00\",\n    filterOn: \"symbol\",\n    hasPopups: true,\n    filters: [\n      {\n        value: \"biological\",\n        label: \"Biological\"\n      },\n      {\n        value: \"tourist\",\n        label: \"Touristo\"\n      }\n    ]\n  },\n  \"toggle-unesco\": { label: \"UNESCO\", color: \"#CCCC00\" },\n  \"toggle-sectores\": {\n    label: \"Sectores\",\n    color: \"#449438\",\n    combineWithLayers: [\"sectores-nombres\", \"sectores-nombres-6mdotv\"]\n  },\n  \"toggle-ecosistemas\": {\n    label: \"Ecosistemas\",\n    color: \"#444444\",\n    filterOn: \"Name\",\n    filters: [\n      {\n        value: \"Marino\",\n        label: \"Marino\",\n        color: \"hsl(221, 100%, 72%)\"\n      },\n      {\n        value: \"Bosque Seco\",\n        label: \"Bosque Seco\",\n        color: \"hsl(64, 100%, 66%)\"\n      },\n      {\n        value: \"Bosque Lluvioso\",\n        label: \"Bosque Lluvioso\",\n        color: \"hsl(127, 96%, 64%)\"\n      },\n      {\n        value: \"Bosque Nuboso\",\n        label: \"Bosque Nuboso\",\n        color: \"hsl(305, 100%, 66%)\"\n      }\n    ]\n  }\n};\n","const es = {\n  LEGEND_TITLE: \"Puestos Estaciónes y Tourismos\",\n  LEGEND_VIEW_ALL: \"Muestra Todo\",\n  LEGEND_VIEW_NONE: \"Muestra Nada\",\n  LEGEND_ITEM_TOOLTIP_PREFIX: \"Muestra u oculta\", // prefix the legend item\n  POPUP_IMAGE_ALT_PREFIX: \"Image del Estación\",\n  POPUP_MORE_INFO: \"Más informacíon\"\n};\n\nconst en = {\n  LEGEND_TITLE: \"English Legend Title\",\n  LEGEND_VIEW_ALL: \"View All\",\n  LEGEND_VIEW_NONE: \"View None\",\n  POPUP_IMAGE_ALT_PREFIX: \"Image of station\",\n  POPUP_MORE_INFO: \"More information\"\n};\n\nexport { es, es as default, en };\n","import { default as layers } from \"./layers\";\nimport { default as text } from \"./text\";\n\n// TODO: Get these coordinates right\n// const maxBounds = [\n//   [-86.06044269571538, 10.42373421696972], // SW\n//   [11.241447566507844, -85.16795975566262] // NE\n// ];\n\n// Inital config object for creating mapboxgl.Map().\n// container defaults to 'map'\nconst MAP = {\n  style: \"mapbox://styles/guanacaste/cjj079axn0aqu2so55fx6ln2x\",\n  center: [-85.61365526723557, 10.838261234356153],\n  zoom: 9.619976883678385,\n  scrollZoom: false,\n  maxZoom: 12.5,\n  minZoom: 9.619976883678385\n  //maxBounds\n};\n\nconst ACCESS_TOKEN =\n  \"pk.eyJ1IjoiZ3VhbmFjYXN0ZSIsImEiOiJjamowNzhuYnAwZXU2M2txczhsc21mbDVsIn0.amJMu3O1jfjcbg-B1qC7ww\";\n\nmodule.exports = Object.freeze({\n  LAYER_PREFIX: \"toggle-\",\n  LAYERS_ACTIVE: false,\n  ANIMATION_DURATION: 2000,\n  ACCESS_TOKEN,\n  MAP,\n  LAYERS: layers,\n  TEXT: text\n});\n","import { LAYERS, LAYERS_ACTIVE, LAYER_PREFIX } from \"./config\";\n\nconst PREFIX_LENGTH = LAYER_PREFIX.length;\n\nconst filteringLayers = Object.entries(LAYERS)\n  .filter(\n    ([, { filters, filterOn }]) =>\n      filterOn && filters && filters.length && filters.length > 0\n  )\n  .map(([layerName, { filters = [], filterOn }]) => {\n    return {\n      name: layerName,\n      filterOn,\n      filters\n    };\n  });\n\nexport const filteringLayersList = filteringLayers.map(({ name }) => name);\nconst hasToggle = ({ id }) => id.substring(0, PREFIX_LENGTH) === LAYER_PREFIX;\n\n// const hasToggle = ({ id }) => id;\n\nexport const getVisibleLayers = (layerList, forceValue = LAYERS_ACTIVE) =>\n  layerList.filter(hasToggle).reduce((agg, layer) => {\n    let result = { [layer.id]: forceValue };\n    let layerIndex = filteringLayersList.indexOf(layer.id);\n    if (layerIndex >= 0) {\n      const layer = filteringLayers[layerIndex];\n      result[layer.name] = layer.filters.reduce(\n        (agg, { value }) => Object.assign({ [value]: forceValue }, agg),\n        {}\n      );\n    }\n    return Object.assign(result, agg);\n  }, {});\n\nexport const getFilteredLayers = layerList =>\n  layerList.filter(hasToggle).map(layer => {\n    const layerC = LAYERS[layer.id];\n    const hasFilters = layerC && layerC.filters && !!layerC.filters.length;\n    return {\n      ...layerC,\n      hasFilters,\n      filters:\n        hasFilters &&\n        layerC.filters.map(filter => ({ ...filter, layerId: layer.id })),\n      name: layer.id,\n      label:\n        layerC && layerC.label\n          ? layerC.label\n          : layer.id.substring(PREFIX_LENGTH)\n    };\n  });\n","import { LAYERS } from \"./config\";\nimport { getVisibleLayers } from \"./utils\";\n\nexport const toggleLegend = () => {\n  const legendEl = document.getElementById(\"legend\");\n  legendEl.classList.toggle(\"active\");\n};\n\n/**\n Toggles the entire layer for a layer without a filter\n**/\nexport const getLayerToggleHandler = map => layerId => {\n  // toggle class\n  const legendItem = document.getElementById(layerId);\n  legendItem.classList.toggle(\"active\");\n  // toggle state\n  map.visibleLayers[layerId] = !map.visibleLayers[layerId];\n\n  const isToggledOn = map.visibleLayers[layerId];\n  const visibility = isToggledOn ? \"visible\" : \"none\";\n  const { combineWithLayers } = LAYERS[layerId];\n  console.log({ combineWithLayers });\n  if (combineWithLayers) {\n    combineWithLayers.forEach(layerName =>\n      map.setLayoutProperty(layerName, \"visibility\", visibility)\n    );\n  }\n  // toggle layer visibility\n  return map.setLayoutProperty(layerId, \"visibility\", visibility);\n};\n\n/**\n Toggles the entire layer for a layer with a filter\n**/\nexport const getFilterLayerToggleHandler = map => layerId => {\n  const legendItem = document.getElementById(layerId);\n  legendItem.classList.toggle(\"active\");\n  const legendItemEls = document.querySelectorAll(`#${layerId} .legend-item`);\n  const currentLayerState = map.visibleLayers[layerId];\n\n  // if any items were active, they are now all inactive\n  const isToggledOn = !Object.values(currentLayerState).some(item => item);\n\n  // Toggle the active class for children\n\n  [].forEach.call(legendItemEls, item => {\n    isToggledOn\n      ? item.classList.add(\"active\")\n      : item.classList.remove(\"active\");\n  });\n\n  const visibility = isToggledOn ? \"visible\" : \"none\";\n\n  // update map.visibleLayers state\n  map.visibleLayers[layerId] = Object.keys(currentLayerState).reduce(\n    (agg, value) => ({ ...agg, [value]: isToggledOn }),\n    {}\n  );\n\n  // If we are toggling the layer back on, display everything\n  isToggledOn && map.setFilter(layerId, null);\n\n  // Toggle Layer visibility\n  return map.setLayoutProperty(layerId, \"visibility\", visibility);\n};\n\n/**\n * Toggles just the filter item.\n */\nexport const getFilterToggleHandler = map => (layerId, value) => {\n  // Toggle Active Class\n  const legendItem = document.getElementById(`${layerId}-${value}`);\n  legendItem.classList.toggle(\"active\");\n\n  if (layerId) {\n    const layerConfig = LAYERS[layerId];\n    const layerData = map.visibleLayers[layerId];\n    map.visibleLayers[layerId][value] = !layerData[value];\n    // If this filter is active, it's parent should be active too\n    if (map.visibleLayers[layerId][value]) {\n      document.getElementById(layerId).classList.add(\"active\");\n    }\n    if (!Object.values(map.visibleLayers[layerId]).some(item => item)) {\n      document.getElementById(layerId).classList.remove(\"active\");\n    }\n\n    const activeFilterLayers = Object.keys(layerData).filter(\n      key => layerData[key]\n    );\n    if (activeFilterLayers.length > 0) {\n      map.setLayoutProperty(layerId, \"visibility\", \"visible\");\n      // build the filter query, using filterOn for the field to filter on,\n      // and spreading the activeFilterLayers\n      return map.setFilter(layerId, [\n        activeFilterLayers.length === 1 ? \"==\" : \"in\",\n        layerConfig.filterOn,\n        ...activeFilterLayers\n      ]);\n    }\n\n    // TODO: Until we figure out how to setFilter of none?\n    return map.setLayoutProperty(layerId, \"visibility\", \"none\");\n  }\n};\n\n/**\n * To reset the entire layer/filter state\n */\nexport const getShowAllHandler = map => () => {\n  map.filteredLayers.map(layer =>\n    map.setLayoutProperty(layer.name, \"visibility\", \"visible\")\n  );\n  map.filteredLayers.map(({ name }) => map.setFilter(name, null));\n  map.visibleLayers = getVisibleLayers(map.layerList, true);\n  const legendItemEls = document.querySelectorAll(`.legend-item`);\n  [].forEach.call(legendItemEls, item => {\n    item.classList.add(\"active\");\n  });\n};\n\n/**\n * To hide the entire layer/filter state\n */\nexport const getHideAllHandler = map => () => {\n  map.filteredLayers.map(layer =>\n    map.setLayoutProperty(layer.name, \"visibility\", \"none\")\n  );\n  map.visibleLayers = getVisibleLayers(map.layerList);\n  const legendItemEls = document.querySelectorAll(`.legend-item`);\n  [].forEach.call(legendItemEls, item => {\n    item.classList.remove(\"active\");\n  });\n};\n","import nanoHtml from \"nanohtml\";\n\nimport { toggleLegend } from \"../handlers\";\n\nimport { TEXT as T, LAYERS } from \"../config\";\n// const getArg = arg => (arg ? `'${arg}'` : null);\n\nfunction getLayerToggle(layerId) {\n  return function toggleLayer(e) {\n    e.preventDefault();\n    window.tcat.handleLayerToggle(layerId);\n  };\n}\nfunction getFilterLayerToggle(layerId) {\n  return function toggleFilterLayer(e) {\n    e.preventDefault();\n    window.tcat.handleFilterLayerToggle(layerId);\n  };\n}\n\nfunction getFilterItemToggle(layerId, value) {\n  return function toggleFilterItem(e) {\n    e.preventDefault();\n    window.tcat.handleFilterToggle(layerId, value);\n  };\n}\n\nexport default allLayers =>\n  nanoHtml`<div id=\"legend-wrapper\" class=\"legend-wrapper\">\n    <h4 class=\"overlay-box toggle-button\" onclick=\"${toggleLegend}\">\n        ${T.LEGEND_TITLE}\n        <span id=\"legend-toggle-icon\"></span>\n    </h4>\n    <div class=\"flex-child legend-inner\">\n\t\t\t<div id=\"legend-items\" class=\"overlay-box toggle-content\">\n          ${allLayers.map(layer => {\n            if (layer.hasFilters) {\n              return legendItemWithFilters(layer);\n            }\n            return legendItem(layer);\n          })}\n\t\t\t</div>\n      <div id=\"legend-footer\" class=\"overlay-box toggle-content\">\n        <button class=\"button button-block-on-mobile\" onclick=${\n          window.tcat.handleShowAll\n        }>${T.LEGEND_VIEW_ALL}</button>\n        <button class=\"button button-block-on-mobile\" onclick=${\n          window.tcat.handleHideAll\n        }>${T.LEGEND_VIEW_NONE}</button>\n      </div>\n\t</div>\n</div>`;\n\nconst legendItem = ({ name, color, label }) => nanoHtml`\n  <div\n    title=\"${T.LEGEND_ITEM_TOOLTIP_PREFIX} ${label}\"\n    class=\"legend-item\"\n    id=\"${name}\"\n    onclick=${getLayerToggle(name)}\n  >\n    <span class=\"legend-key\" style=\"background-color: ${color}\"></span>\n    <span class=\"label\">${label}</span>\n  </div>`;\n\nconst legendItemChild = ({ value, layerId, color, label }) => nanoHtml`\n    <div\n      title=\"${T.LEGEND_ITEM_TOOLTIP_PREFIX} ${LAYERS[layerId].label}: ${value}\"\n      class=\"legend-item\"\n      id=\"${layerId}-${value}\"\n      onclick=${getFilterItemToggle(layerId, value)}\n    >\n      <span class=\"legend-key\" style=\"background-color: ${color}\"></span>\n      <span class=\"label\">${label}</span>\n    </div>\n`;\n\nconst legendItemWithFilters = ({ name, color, label, filters }) => nanoHtml`\n  <div\n    class=\"legend-item\"\n    id=\"${name}\"\n  >\n    <span class=\"legend-key\" style=\"background-color: ${color}\"></span>\n    <span\n        class=\"label\"\n        title=\"${T.LEGEND_ITEM_TOOLTIP_PREFIX} ${label}\"\n        onclick=${getFilterLayerToggle(name)}\n      >\n        ${label}\n      </span>\n    <div class=\"legend-items\">\n      ${filters.map(legendItemChild)}\n    </div>\n  </div>\n`;\n","import { TEXT as T } from \"../config\";\n\nexport default feature =>\n  `<div class=\"popup-header\">\n    <h3>\n        <a\n          href=\"${feature.properties.link}\"\n          >\n          ${feature.properties.Estación}\n        </a>\n    </h3>\n    <div class=\"popup-image\">\n        <a\n          href=\"${feature.properties.link}\"\n          >\n          <img\n            src=\"${feature.properties.Image}\"\n            alt=\"${T.POPUP_IMAGE_ALT_PREFIX} ${feature.properties.Estación}\"\n          />\n        </a>\n\n    </div>\n  </div>\n  <div class=\"popup-content\">\n    <div class=\"popup-description\">\n      <p>${feature.properties.description}</p>\n    </div>\n    <a\n      class=\"button button-block\"\n      href=\"${feature.properties.link}\"\n      >\n      ${T.POPUP_MORE_INFO}\n    </a>\n  </div>\n  `;\n","/* global mapboxgl */\n/* eslint-disable no-irregular-whitespace */\n/* eslint-disable no-undef */\n\nimport popupComponent from \"./components/popup\";\nimport html from \"nanohtml\";\n\nimport { getVisibleLayers, getFilteredLayers } from \"./utils\";\nimport {\n  getLayerToggleHandler,\n  getFilterToggleHandler,\n  getShowAllHandler,\n  getHideAllHandler,\n  getFilterLayerToggleHandler\n} from \"./handlers\";\n\nimport {\n  MAP,\n  ANIMATION_DURATION,\n  ACCESS_TOKEN,\n  LAYERS,\n  LAYERS_ACTIVE\n} from \"./config\";\n\nmapboxgl.accessToken = ACCESS_TOKEN;\n\nconst DEFAULT_MAP = {\n  container: \"map\"\n};\n\nexport const handleInitialLoad = map => {\n  Object.keys(LAYERS).forEach(layerId =>\n    toggleLayer(map, layerId, LAYERS_ACTIVE)\n  );\n  map.layerList = map.getStyle().layers;\n\n  map.visibleLayers = getVisibleLayers(map.layerList, false);\n  map.filteredLayers = getFilteredLayers(map.layerList);\n  // HANDLE MAP LOAD\n  window.tcat.handleLayerToggle = getLayerToggleHandler(map);\n  window.tcat.handleFilterToggle = getFilterToggleHandler(map);\n  window.tcat.handleFilterLayerToggle = getFilterLayerToggleHandler(map);\n  window.tcat.handleShowAll = getShowAllHandler(map);\n  window.tcat.handleHideAll = getHideAllHandler(map);\n};\n\nexport const toggleLayer = (map, layerId, isVisible = true) => {\n  const visibility = isVisible ? \"visible\" : \"none\";\n  map.setLayoutProperty(layerId, \"visibility\", visibility);\n};\n\nexport function createCompass(map) {\n  const leftEl = document.querySelector(\".mapboxgl-ctrl-bottom-left\");\n\n  const compass = html`<div class=\"mapboxgl-ctrl mapboxgl-ctrl-group\">\n      <button class=\"mapboxgl-ctrl-icon mapboxgl-ctrl-compass\" type=\"button\" aria-label=\"Reset North\"> \n      <span class=\"mapboxgl-ctrl-compass-arrow\" style=\"transform: rotate(0deg);\"></span> \n    </button> \n  </div>`;\n\n  compass.onclick = () => {\n    map.flyTo({\n      center: DEFAULT_MAP.center\n    });\n  };\n  leftEl.appendChild(compass);\n}\n\nexport default function getMap() {\n  const map = new mapboxgl.Map(\n    // Set defaults, allow the config to override\n    Object.assign(DEFAULT_MAP, MAP)\n  );\n\n  const popup = new mapboxgl.Popup({ keepInView: true, maxWidth: \"240px\" });\n\n  // Create a mapboxgl.Popup from the default popup component.\n  const showPopup = feature => {\n    popup\n      .setLngLat(feature.geometry.coordinates)\n      .setHTML(popupComponent(feature))\n      .addTo(map);\n    popup.on(\"close\", () => {\n      const newZoom = map.flyTo({\n        center: DEFAULT_MAP.center,\n        duration: ANIMATION_DURATION\n      });\n    });\n\n    return popup;\n  };\n\n  // HANDLE MAP EVENTS\n\n  Object.entries(LAYERS)\n    .filter(([, layerConfig]) => layerConfig.hasPopups)\n    .forEach(([layerId]) => {\n      map.on(\"click\", layerId, e => {\n        const feature = e.features[0];\n        setTimeout(() => {\n          map.flyTo({\n            center: feature.geometry.coordinates,\n            duration: ANIMATION_DURATION\n          });\n          showPopup(feature);\n        }, 200);\n      });\n    });\n\n  //FULL SCREEN MODE\n  map.addControl(new mapboxgl.FullscreenControl());\n  // Add zoom conntrol\n  const nav = new mapboxgl.NavigationControl({ showCompass: false });\n  map.addControl(nav, \"top-left\");\n  // disable scrollZoom\n  map.scrollZoom.disable();\n  createCompass(map);\n  return map;\n}\n","/* eslint-disable no-irregular-whitespace */\n\nimport legendComponent from \"./components/legend\";\n\nimport getMap, { handleInitialLoad } from \"./map\";\n\nimport \"../assets/styles/index.scss\";\n\n// instantiate the map instance\nconst map = getMap();\n\nmap.initialLoaded = false;\nmap.visibleLayers = {};\nmap.layerList = [];\n\n// debugging only\n// window.map = map;\nwindow.tcat = window.tcat || {};\n\nmap.on(\"data\", () => {\n  if (!map.initialLoaded && !map.loaded()) {\n    handleInitialLoad(map);\n    map.initialLoaded = true;\n  }\n});\n\nmap.on(\"load\", () => {\n  window.map = map;\n  const legendEl = document.getElementById(`legend`);\n  const wrapperEl = document.getElementById(`legend-wrapper`);\n  const legendInnerEl = legendComponent([...map.filteredLayers]);\n  wrapperEl\n    ? legendEl.replaceChild(legendInnerEl, wrapperEl)\n    : legendEl.appendChild(legendInnerEl);\n});\n\n// Press Command to Scrollzoom\ndocument.body.addEventListener(\"keydown\", function(event) {\n  const { metaKey, ctrlKey } = event;\n  if (metaKey || ctrlKey) {\n    map.scrollZoom.enable();\n  }\n});\ndocument.body.addEventListener(\"keyup\", function(event) {\n  const { metaKey, ctrlKey } = event;\n  if (metaKey || ctrlKey) {\n    map.scrollZoom.disable();\n  }\n});\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}