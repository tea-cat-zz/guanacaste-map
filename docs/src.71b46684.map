{"version":3,"sources":["src/config.js","src/components/popup.js","src/components/legend.js","src/utils.js","src/index.js","node_modules/parcel-bundler/src/builtins/bundle-url.js","node_modules/parcel-bundler/src/builtins/css-loader.js"],"names":["MAP","style","center","zoom","ACCESS_TOKEN","config","LAYER_ID","SOURCE_LAYER","ANIMATION_DURATION","LEGEND_TITLE","SOURCE_TYPES","name","layerId","label","icon","LAYERS","color","shape","feature","properties","link","Estación","Image","description","allLayers","map","layer","type","join","getVisibleLayers","layerList","filter","id","substring","reduce","agg","result","Object","assign","DEFAULT_MAP","container","mapboxgl","accessToken","Map","window","popup","Popup","showPopup","setLngLat","geometry","coordinates","setHTML","addTo","on","flyTo","duration","e","features","setTimeout","addControl","FullscreenControl","createCompass","leftEl","document","querySelector","compass","createElement","innerHTML","onclick","appendChild","visibleLayers","console","log","nav","NavigationControl","showCompass","scrollZoom","disable","getStyle","layers","filteredLayers","layerName","legend","getElementById","handleFilter","layerOrSymbolType","legendItem","classList","toggle","activeSymbolLayers","keys","key","length","setLayoutProperty","setFilter","isToggledOn","noFilter","body","addEventListener","event","metaKey","ctrlKey","enable","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","links","querySelectorAll","i","module"],"mappings":"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;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","file":"src.71b46684.map","sourceRoot":"..","sourcesContent":["const MAP = {\n  // for creating mapboxgl.Map(). container defaults to 'map'\n  style: 'mapbox://styles/guanacaste/cjj079axn0aqu2so55fx6ln2x',\n  center: [-85.61365526723557, 10.838261234356153],\n  zoom: 9.619976883678385\n  //\"sprite\": \"mapbox://sprites/mapbox/bright-v8\"\n};\n\nconst ACCESS_TOKEN =\n  'pk.eyJ1IjoiZ3VhbmFjYXN0ZSIsImEiOiJjamowNzhuYnAwZXU2M2txczhsc21mbDVsIn0.amJMu3O1jfjcbg-B1qC7ww';\n\nconst config = {\n  LAYER_ID: 'toggle-turismo',\n  SOURCE_LAYER: 'Turismo',\n  //FLY_TO_ZOOM_LEVEL: 9.619976883678385,\n  ANIMATION_DURATION: 2000,\n  LEGEND_TITLE: 'Puestos Estaciónes y Tourismos',\n  ACCESS_TOKEN,\n  MAP,\n  SOURCE_TYPES: [\n    {\n      name: 'biological',\n      layerId: 'toggle-turismo',\n      label: 'Biological',\n      icon: `<svg><use href=\"assets/svg/information-11.svg\"></use></svg>`\n    },\n    {\n      layerId: 'toggle-turismo',\n      name: 'tourist',\n      label: 'Touristo'\n    }\n  ],\n  LAYERS: {\n    'toggle-turismo': { label: 'Turismo', color: '#CCCC00' },\n    'toggle-unesco': { label: 'UNESCO', color: '#CCCC00', shape: 'line' },\n    'toggle-sectores': { label: 'Sectores', color: '#449438', shape: 'square' },\n    'toggle-ecosistemas': { label: 'Ecosistemas', color: '#000000', shape: 'square' }\n  }\n};\n\nexport default config;\n","export default feature =>\n  `<div class=\"popup-header\">\n    <h3>\n        <a\n          href=\"${feature.properties.link}\"\n          >\n          ${feature.properties.Estación}\n        </a>\n    </h3>\n    <div class=\"popup-image\">\n        <a\n          href=\"${feature.properties.link}\"\n          >\n          <img\n            src=\"${feature.properties.Image}\"\n            alt=\"Image del Estación ${feature.properties.Estación}\"\n          />\n        </a>\n      \n    </div>\n  </div>\n  <div class=\"popup-content\">\n    <div class=\"popup-description\">\n      <p>${feature.properties.description}</p>\n    </div>\n    <a\n      class=\"popup-button\"\n      href=\"${feature.properties.link}\"\n      >\n      Más informacíon\n    </a>\n  </div>\n  `;\n","export default allLayers =>\n  `<div>\n\t    <h4 class=\"overlay-box\">Puestos Estaciónes y Tourismos</h4>\n\t\t\t<div id=\"legend-items\" class=\"overlay-box\">\n          ${allLayers\n            .map(\n              layer => `<div class=\"legend-item active\" id=\"${layer.name}\" onClick=\"handleFilter('${\n                layer.name\n              }', '${layer.type || 'symbol'}', ${layer.layerId ? `'${layer.layerId}'` : null})\">\n                  <span class=\"legend-key\" style=\"background-color: ${layer.color}\"></span>\n                  <span class=\"label\">${layer.label}</span>\n                </div>`\n            )\n            .join('')}\n\n\t\t\t</div>\n      <div id=\"legend-footer\" class=\"overlay-box\">\n        <div onClick=\"noFilter()\">Ver Todas las Capas</div>\n      </div>\n\t</div>`;\n","import config from './config';\n\nconst { SOURCE_TYPES } = config;\n\nexport const getVisibleLayers = layerList =>\n  layerList.filter(({ id }) => id.substring(0, 7) === 'toggle-').reduce((agg, layer) => {\n    let result = { [layer.id]: true };\n    if (layer.id === 'toggle-turismo') {\n      result[layer.id] = SOURCE_TYPES.filter(({ layerId }) => layerId === layer.id).reduce(\n        (agg, { name }) => Object.assign({ [name]: true }, agg),\n        {}\n      );\n    }\n    return Object.assign(result, agg);\n  }, {});\n","/* global mapboxgl */\n/* eslint-disable no-irregular-whitespace */\n\nimport config from './config';\nimport popupComponent from './components/popup';\nimport legendComponent from './components/legend';\nimport { getVisibleLayers } from './utils';\nimport '../assets/styles/index.scss';\n\nconst { ACCESS_TOKEN, MAP, LAYER_ID, ANIMATION_DURATION, SOURCE_TYPES, LAYERS } = config;\n\nconst DEFAULT_MAP = {\n  container: 'map'\n};\n\nmapboxgl.accessToken = ACCESS_TOKEN;\n\n// instantiate the map instance\nconst map = new mapboxgl.Map(\n  // Set defaults, allow the config to override\n  Object.assign(DEFAULT_MAP, MAP)\n);\n\nwindow.map = map;\n\n// HANDLE POPUPS\n\nconst popup = new mapboxgl.Popup();\n\n// Create a mapboxgl.Popup from the default popup component.\nconst showPopup = feature => {\n  popup\n    .setLngLat(feature.geometry.coordinates)\n    .setHTML(popupComponent(feature))\n    .addTo(map);\n  popup.on('close', () => {\n    map.flyTo({\n      center: DEFAULT_MAP.center,\n      duration: ANIMATION_DURATION\n    });\n  });\n\n  return popup;\n};\n\n// HANDLE MAP EVENTS\n\nmap.on('click', LAYER_ID, e => {\n  const feature = e.features[0];\n  setTimeout(() => {\n    map.flyTo({\n      center: feature.geometry.coordinates,\n      duration: ANIMATION_DURATION\n    });\n    showPopup(feature);\n  }, 200);\n});\n\n//FULL SCREEN MODE\n\nmap.addControl(new mapboxgl.FullscreenControl());\n\n// function createLegend() {\n//  const legendEl\n//}\n\n//Create Compass Button that Flys to Center\nfunction createCompass() {\n  const leftEl = document.querySelector('.mapboxgl-ctrl-bottom-left');\n  const compass = document.createElement('div');\n\n  compass.innerHTML = `<div class=\"mapboxgl-ctrl mapboxgl-ctrl-group\">\n      <button class=\"mapboxgl-ctrl-icon mapboxgl-ctrl-compass\" type=\"button\" aria-label=\"Reset North\"> \n      <span class=\"mapboxgl-ctrl-compass-arrow\" style=\"transform: rotate(0deg);\"></span> \n    </button> \n  </div>`;\n\n  compass.onclick = () => {\n    map.flyTo({\n      center: DEFAULT_MAP.center\n    });\n  };\n  leftEl.appendChild(compass);\n}\n\nlet visibleLayers = {};\n\nmap.on('load', () => {\n  console.log('map loaded');\n  const nav = new mapboxgl.NavigationControl({ showCompass: false });\n  map.addControl(nav, 'top-left');\n  map.scrollZoom.disable();\n  createCompass();\n\n  const layerList = map.getStyle().layers;\n\n  visibleLayers = getVisibleLayers(layerList);\n\n  let filteredLayers = layerList\n    .filter(layer => {\n      const layerName = layer.id;\n      if (layerName.substring(0, 7) === 'toggle-' && layerName !== 'toggle-turismo') {\n        return true;\n      }\n      return false;\n    })\n    .map(layer => ({\n      name: layer.id,\n      label: LAYERS[layer.id] ? LAYERS[layer.id].label : layer.id.substring(7),\n      type: 'layer',\n      color: LAYERS[layer.id] ? LAYERS[layer.id].color : 'darkgrey'\n    }));\n  const legend = document.getElementById(`legend`);\n\n  // This is where we combine the symbol layer SOURCE_TYPES with filteredLayers\n  legend.innerHTML = legendComponent([...SOURCE_TYPES, ...filteredLayers]);\n\n  // HANDLE MAP LOAD\n  window.handleFilter = (layerOrSymbolType, type = null, layerId = null) => {\n    // Toggle Active Class\n    const legendItem = document.getElementById(layerOrSymbolType);\n    legendItem.classList.toggle('active');\n    // If Symbol, toggle for the symbol in the layer filter\n    if (type === 'symbol' && layerId) {\n      visibleLayers[layerId][layerOrSymbolType] = !visibleLayers[layerId][layerOrSymbolType];\n\n      const activeSymbolLayers = Object.keys(visibleLayers[layerId]).filter(\n        key => visibleLayers[layerId][key]\n      );\n      if (activeSymbolLayers.length > 0) {\n        map.setLayoutProperty(layerId, 'visibility', 'visible');\n      }\n      if (activeSymbolLayers.length > 1) {\n        return map.setFilter(layerId, ['in', 'symbol', ...activeSymbolLayers]);\n      }\n      if (activeSymbolLayers.length === 1) {\n        return map.setFilter(layerId, ['==', 'symbol', activeSymbolLayers[0]]);\n      }\n      // TODO: Until we figure out how to setFilter of none?\n      return map.setLayoutProperty(layerId, 'visibility', 'none');\n    }\n    visibleLayers[layerOrSymbolType] = !visibleLayers[layerOrSymbolType];\n    const isToggledOn = visibleLayers[layerOrSymbolType];\n\n    // Toggle Layers\n    map.setLayoutProperty(layerOrSymbolType, 'visibility', isToggledOn ? 'visible' : 'none');\n    return;\n  };\n\n  window.noFilter = () => {\n    filteredLayers.map(layer => map.setLayoutProperty(layer.name, 'visibility', 'visible'));\n    filteredLayers.map(({ name }) => map.setFilter(name, null));\n    visibleLayers = getVisibleLayers(map.getStyle().layers);\n    const legend = document.getElementById(`legend`);\n    // This is where we combine the symbol layer SOURCE_TYPES with filteredLayers\n    legend.innerHTML = legendComponent([...SOURCE_TYPES, ...filteredLayers]);\n  };\n});\n\n// Press Command to Scrollzoom\ndocument.body.addEventListener('keydown', function(event) {\n  const { metaKey, ctrlKey } = event;\n  if (metaKey || ctrlKey) {\n    map.scrollZoom.enable();\n  }\n});\ndocument.body.addEventListener('keyup', function(event) {\n  const { metaKey, ctrlKey } = event;\n  if (metaKey || ctrlKey) {\n    map.scrollZoom.disable();\n  }\n});\n","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}